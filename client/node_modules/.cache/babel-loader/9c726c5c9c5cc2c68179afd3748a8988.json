{"ast":null,"code":"var _jsxFileName = \"/Users/brittanyowen/General_Assembly/sei/sapphire/unit_4/the-book-nook/client/src/components/ReviewEdit.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ReviewEdit(props) {\n  _s();\n\n  const {\n    handleOpen,\n    reviewUpdate,\n    currentUser,\n    reviews\n  } = props;\n  const params = useParams();\n  const [reviewData, setReviewData] = useState({\n    content: \"\",\n    user_id: currentUser === null || currentUser === void 0 ? void 0 : currentUser.id,\n    book_id: Number(params.id)\n  });\n  const {\n    content\n  } = reviewData;\n  useEffect(() => {\n    const prefillReviewData = () => {\n      const reviewItem = reviews.find(review => review.id === Number(params.id));\n      setReviewData({\n        content: reviewItem === null || reviewItem === void 0 ? void 0 : reviewItem.content,\n        user_id: currentUser === null || currentUser === void 0 ? void 0 : currentUser.id,\n        book_id: Number(params.id)\n      });\n    };\n\n    if (reviews.length) {\n      prefillReviewData();\n    }\n  }, [reviews, params.id]);\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setReviewData(prevState => ({ ...prevState,\n      [name]: value\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"review-edit-container\",\n    onClick: e => handleOpen(false),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"review-edit\",\n      onClick: e => e.stopPropagation(),\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          reviewUpdate(params.id, params.id, reviewData);\n          handleOpen(false);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Edit Review:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"content\",\n            value: content,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleOpen(false),\n          children: \"CANCEL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"SAVE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ReviewEdit, \"9SG+vJdPd71LStPTxc4DiWWMAsY=\", false, function () {\n  return [useParams];\n});\n\n_c = ReviewEdit;\nexport default ReviewEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReviewEdit\");","map":{"version":3,"sources":["/Users/brittanyowen/General_Assembly/sei/sapphire/unit_4/the-book-nook/client/src/components/ReviewEdit.jsx"],"names":["React","useState","useEffect","useParams","ReviewEdit","props","handleOpen","reviewUpdate","currentUser","reviews","params","reviewData","setReviewData","content","user_id","id","book_id","Number","prefillReviewData","reviewItem","find","review","length","handleChange","e","name","value","target","prevState","stopPropagation","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nfunction ReviewEdit(props) {\n  const { handleOpen, reviewUpdate, currentUser, reviews } = props;\n  const params = useParams();\n  const [reviewData, setReviewData] = useState({\n    content: \"\",\n    user_id: currentUser?.id,\n    book_id: Number(params.id),\n  });\n  const { content } = reviewData;\n\n  useEffect(() => {\n    const prefillReviewData = () => {\n      const reviewItem = reviews.find((review) => review.id === Number(params.id));\n      setReviewData({\n        content: reviewItem?.content,\n        user_id: currentUser?.id,\n        book_id: Number(params.id),\n      });\n    };\n    if (reviews.length) {\n      prefillReviewData();\n    }\n  }, [reviews, params.id]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setReviewData((prevState) => ({\n      ...prevState,\n      [name]: value,\n    }));\n  };\n\n  return (\n    <div className=\"review-edit-container\" onClick={(e) => handleOpen(false)}>\n      <div className=\"review-edit\" onClick={(e) => e.stopPropagation()}>\n        <form\n          onSubmit={(e) => {\n            e.preventDefault();\n            reviewUpdate(params.id, params.id, reviewData);\n            handleOpen(false)\n          }}\n        >\n          <label>\n            Edit Review:\n            <input\n              type=\"text\"\n              name=\"content\"\n              value={content}\n              onChange={handleChange}\n            />\n          </label>\n          <button onClick={() => handleOpen(false)}>CANCEL</button>\n          <button type=\"submit\">SAVE</button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default ReviewEdit;\n"]},"metadata":{},"sourceType":"module"}